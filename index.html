<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kyunki Saas Bhi Kabhi Bahu Thi 2 Promos</title>
    <link rel="stylesheet" href="styles.css">
    </head>
<body>

    <header class="navbar">
        <span class="logo">PromoApp</span>
        <nav>
            <a href="#">Home</a>
            <a href="#">Watchlist</a>
            <a href="#">TV Shows</a>
        </nav>
    </header>

    <main class="content-container">
        
        <section class="video-player-section">
            <div id="video-container" class="video-player">
                <p style="text-align:center; padding:150px; color:#ccc;">Loading latest promo...</p>
            </div>
            
            <div class="video-overlay">
                <h2 id="daily-title">Loading Promo Title...</h2>
                
                <p class="new-episodes">New Episodes: Mon-Sun at 10:30PM</p>
                
                <p class="description" id="synopsis-text">Fetching latest synopsis...</p>
                
                <div class="tags">
                    <span>Drama</span>
                    <span>Family</span>
                    <span>UA 16+</span>
                    <span>Hindi</span>
                </div>
                <button class="watch-button">▶ Watch Latest Episode</button>
            </div>
        </section>

        <section class="details-section">
            <div class="tabs">
                <button class="tab-button active">Episodes</button>
                <button class="tab-button">More Like This</button>
                <button class="tab-button">Extras</button>
            </div>

            <div class="episode-list">
                <h3>Season 1</h3>
                <div class="episode-item">
                    <img src="episode_thumb_1.jpg" alt="Episode Thumbnail" class="episode-thumb">
                    <div class="episode-info">
                        <h4>S1 E1 | Tulsi's Return</h4>
                        <p>25 Nov 2025 · 28m</p>
                        <p class="episode-desc">Tulsi returns to the haveli, facing new challenges and old enemies. A new family secret threatens to tear everything apart.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script>
        // Fetch the data from the external JSON file
        fetch('promo_data.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                // Construct the DailyMotion embed URL
                // Format: https://www.dailymotion.com/embed/video/{videoId}
                const embedUrl = `https://www.dailymotion.com/embed/video/${data.videoId}?autoplay=1&mute=0`;

                // Create the IFRAME element
                const iframe = document.createElement('iframe');
                iframe.setAttribute('width', '100%');
                iframe.setAttribute('height', '100%');
                iframe.setAttribute('src', embedUrl);
                iframe.setAttribute('frameborder', '0');
                iframe.setAttribute('allow', 'autoplay; encrypted-media');
                iframe.setAttribute('allowfullscreen', '');
                
                // Inject the IFRAME into the placeholder div
                const videoContainer = document.getElementById('video-container');
                videoContainer.innerHTML = ''; // Clear the "Loading" message
                videoContainer.appendChild(iframe);
                
                // Update the text elements using data from the JSON
                document.getElementById('daily-title').textContent = data.title;
                document.getElementById('synopsis-text').textContent = data.synopsis;

            })
            .catch(error => {
                console.error('Error loading promo data:', error);
                // Fallback content if the file fails to load
                document.getElementById('daily-title').textContent = 'Error: Could not load the latest promo.';
                document.getElementById('synopsis-text').textContent = 'Please check the file name and content of promo_data.json.';
            });
    </script>
    
</body>
</html>
